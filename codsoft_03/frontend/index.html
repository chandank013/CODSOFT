<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction | CodSoft</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>üìä Customer Churn Prediction</h1>
            <p class="subtitle">Predict and Prevent Customer Attrition</p>
            <p class="author">CodSoft ML Internship - Task 3 | Chandan Kumar</p>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Customer Input Section -->
            <div class="card input-card">
                <h2>üë§ Customer Information</h2>
                <p class="instruction">Enter customer details to predict churn risk</p>

                <div class="input-grid">
                    <!-- Credit Score -->
                    <div class="input-group">
                        <label for="creditScore">
                            <span class="label-icon">üíØ</span>
                            Credit Score
                        </label>
                        <input type="number" id="creditScore" placeholder="300-850" 
                               value="650" min="300" max="850">
                    </div>

                    <!-- Geography -->
                    <div class="input-group">
                        <label for="geography">
                            <span class="label-icon">üåç</span>
                            Geography
                        </label>
                        <select id="geography">
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            <option value="Spain">Spain</option>
                        </select>
                    </div>

                    <!-- Gender -->
                    <div class="input-group">
                        <label for="gender">
                            <span class="label-icon">üë•</span>
                            Gender
                        </label>
                        <select id="gender">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>

                    <!-- Age -->
                    <div class="input-group">
                        <label for="age">
                            <span class="label-icon">üéÇ</span>
                            Age
                        </label>
                        <input type="number" id="age" placeholder="18-100" 
                               value="35" min="18" max="100">
                    </div>

                    <!-- Tenure -->
                    <div class="input-group">
                        <label for="tenure">
                            <span class="label-icon">‚è±Ô∏è</span>
                            Tenure (years)
                        </label>
                        <input type="number" id="tenure" placeholder="0-10" 
                               value="5" min="0" max="10">
                    </div>

                    <!-- Balance -->
                    <div class="input-group">
                        <label for="balance">
                            <span class="label-icon">üí∞</span>
                            Balance ($)
                        </label>
                        <input type="number" id="balance" placeholder="0-250000" 
                               value="75000" min="0" step="1000">
                    </div>

                    <!-- Number of Products -->
                    <div class="input-group">
                        <label for="numProducts">
                            <span class="label-icon">üì¶</span>
                            Number of Products
                        </label>
                        <input type="number" id="numProducts" placeholder="1-4" 
                               value="2" min="1" max="4">
                    </div>

                    <!-- Has Credit Card -->
                    <div class="input-group">
                        <label for="hasCrCard">
                            <span class="label-icon">üí≥</span>
                            Has Credit Card
                        </label>
                        <select id="hasCrCard">
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>

                    <!-- Is Active Member -->
                    <div class="input-group">
                        <label for="isActive">
                            <span class="label-icon">‚ú®</span>
                            Is Active Member
                        </label>
                        <select id="isActive">
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>

                    <!-- Estimated Salary -->
                    <div class="input-group">
                        <label for="salary">
                            <span class="label-icon">üíµ</span>
                            Estimated Salary ($)
                        </label>
                        <input type="number" id="salary" placeholder="10000-200000" 
                               value="60000" min="10000" step="1000">
                    </div>
                </div>

                <button id="predictBtn" class="primary-btn">
                    üîÆ Predict Churn Risk
                </button>
            </div>

            <!-- Loading -->
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Analyzing customer profile...</p>
            </div>

            <!-- Results Section -->
            <div id="results" class="results hidden">
                <div class="card results-card">
                    <h2>üìä Churn Prediction Results</h2>
                    
                    <!-- Status Badge -->
                    <div id="statusBadge" class="status-badge"></div>

                    <!-- Metrics Grid -->
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon">üéØ</div>
                            <div class="metric-content">
                                <span class="metric-label">Churn Probability</span>
                                <span class="metric-value" id="probability">--</span>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon">‚ö†Ô∏è</div>
                            <div class="metric-content">
                                <span class="metric-label">Risk Level</span>
                                <span class="metric-value" id="riskLevel">--</span>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon">üì¶</div>
                            <div class="metric-content">
                                <span class="metric-label">Products</span>
                                <span class="metric-value" id="displayProducts">--</span>
                            </div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-icon">‚è±Ô∏è</div>
                            <div class="metric-content">
                                <span class="metric-label">Tenure</span>
                                <span class="metric-value" id="displayTenure">--</span>
                            </div>
                        </div>
                    </div>

                    <!-- Probability Bar -->
                    <div class="probability-section">
                        <h3>Churn Risk Analysis</h3>
                        <div class="probability-bar">
                            <div id="probabilityFill" class="probability-fill"></div>
                            <div class="probability-markers">
                                <span class="marker" style="left: 20%">20%</span>
                                <span class="marker" style="left: 40%">40%</span>
                                <span class="marker" style="left: 60%">60%</span>
                                <span class="marker" style="left: 80%">80%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendation -->
                    <div class="recommendation-section">
                        <h3>üí° Recommended Action</h3>
                        <div id="recommendation" class="recommendation-box"></div>
                    </div>

                    <!-- Retention Strategies -->
                    <div class="strategies-section">
                        <h3>üéØ Retention Strategies</h3>
                        <div id="strategies" class="strategies-list"></div>
                    </div>
                </div>
            </div>

            <!-- Sample Customers -->
            <div class="card samples-card">
                <h3>üí° Try Sample Customer Profiles</h3>
                <div class="samples-grid">
                    <div class="sample-card" onclick="loadSample('loyal')">
                        <div class="sample-icon">‚úÖ</div>
                        <h4>Loyal Customer</h4>
                        <p>Low churn risk</p>
                        <span class="sample-detail">Active ‚Ä¢ 2 Products</span>
                    </div>
                    
                    <div class="sample-card" onclick="loadSample('atrisk')">
                        <div class="sample-icon">‚ö†Ô∏è</div>
                        <h4>At-Risk Customer</h4>
                        <p>Medium churn risk</p>
                        <span class="sample-detail">Inactive ‚Ä¢ 1 Product</span>
                    </div>
                    
                    <div class="sample-card" onclick="loadSample('churning')">
                        <div class="sample-icon">üö®</div>
                        <h4>Churning Customer</h4>
                        <p>High churn risk</p>
                        <span class="sample-detail">Inactive ‚Ä¢ Low Balance</span>
                    </div>
                </div>
            </div>

            <!-- Info Cards -->
            <div class="info-section">
                <div class="card info-card">
                    <h3>üìã About Churn Prediction</h3>
                    <p>
                        This system uses machine learning to identify customers likely to leave your service.
                        Early identification allows you to implement targeted retention strategies and reduce churn.
                    </p>
                    <div class="features-list">
                        <div class="feature-item">
                            <span class="feature-icon">‚úÖ</span>
                            <span>Real-time risk assessment</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚úÖ</span>
                            <span>ML algorithms (RF, GB, LR)</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚úÖ</span>
                            <span>Personalized retention strategies</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚úÖ</span>
                            <span>Multi-factor analysis</span>
                        </div>
                    </div>
                </div>

                <div class="card info-card">
                    <h3>üéØ Risk Levels</h3>
                    <div class="risk-levels">
                        <div class="risk-item minimal">
                            <span class="risk-label">üü¢ MINIMAL</span>
                            <span class="risk-range">0-20%</span>
                        </div>
                        <div class="risk-item low">
                            <span class="risk-label">üü¢ LOW</span>
                            <span class="risk-range">20-40%</span>
                        </div>
                        <div class="risk-item medium">
                            <span class="risk-label">üü° MEDIUM</span>
                            <span class="risk-range">40-60%</span>
                        </div>
                        <div class="risk-item high">
                            <span class="risk-label">üü† HIGH</span>
                            <span class="risk-range">60-80%</span>
                        </div>
                        <div class="risk-item critical">
                            <span class="risk-label">üî¥ CRITICAL</span>
                            <span class="risk-range">80-100%</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <p>Made with ‚ù§Ô∏è by Chandan Kumar | CodSoft ML Internship December 2025</p>
            <div class="social-links">
                <a href="https://github.com/chandank013/CODSOFT" target="_blank">GitHub</a> |
                <a href="https://linkedin.com/in/chandan013" target="_blank">LinkedIn</a>
            </div>
            <p class="hashtags">#codsoft #churnprediction #machinelearning</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>